# Checkpoint: Ralph Loop MVP Complete

**Date:** 2026-01-03 05:50
**Repo:** github.com/carmandale/ralph-loop
**Goal:** Build a CLI tool for RALPH-driven development with structured loops

## Accomplished

### Core CLI (bin/ralph)
- [x] `ralph init "desc"` - Create plan with template
- [x] `ralph next` - Show task, launch Pi with full context
- [x] `ralph done` - Build verify, commit, mark complete
- [x] `ralph stuck` - Help menu (Oracle, codex review)
- [x] `ralph yolo` - Full-auto non-interactive mode
- [x] `ralph review` - Run codex review on changes
- [x] `ralph status` - Visual progress bar
- [x] `ralph note "msg"` - Add timestamped notes
- [x] `ralph plan` - Open plan in editor

### Gold Stars Implemented
- [x] â­ Re-Read Loop - Full plan context every iteration
- [x] â­ One Task Focus - "Do NOT proceed to next task"
- [x] â­ Build Gate - Must build to mark done
- [x] â­ Stuck â†’ Help - Lower friction than hacking
- [x] â­ THINK.ALIGN.ACT - Discipline in every prompt
- [x] â­ Living Notes - Timestamped decision capture
- [x] â­ Progress Visible - "4/7 tasks (57%)"

### Key Features
- [x] Auto-commit after each task (commit but don't push)
- [x] Project-specific reminders via [reminders] in config
- [x] codex review integration with proper CLI flags
- [x] Post-Pi auto-prompt (Done/Continue/Stuck/Exit)
- [x] Post-build menu (Commit/Review/No commit/Back)
- [x] YOLO mode with final codex review
- [x] stdin flush to handle ctrl-c artifacts

### Bug Fixes
- [x] do_commit missed untracked files (git add -A before check)
- [x] codex review needs --uncommitted or --base flag
- [x] stdin dirty after ctrl-c (flush before read)
- [x] End-of-plan review missing flags

## Design Decisions

| Decision | Reasoning |
|----------|-----------|
| Bash script, not Node/Python | Simple, no dependencies, runs anywhere |
| Plans as markdown | Human readable, git-friendly |
| [reminders] in config | Per-project rules agents often forget |
| Pi -p for YOLO | Non-interactive, exits when done |
| Commit per task | Granular rollback, no push until ready |
| codex review at end | Catches issues before push |

## File Structure

```
ralph-loop/
â”œâ”€â”€ bin/ralph           # Main CLI (~700 lines bash)
â”œâ”€â”€ install.sh          # Installer script
â”œâ”€â”€ README.md           # Usage docs
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ REQUIREMENTS.md # Simplified requirements
â”‚   â””â”€â”€ GOLD-STARS.md   # The 7 magic features
â””â”€â”€ .checkpoint/        # This file
```

## Usage in Projects

```bash
# Install
git clone https://github.com/carmandale/ralph-loop
cd ralph-loop && ./install.sh

# In any project
ralph init "Add user auth"
# Edit .ralph/plans/*.md to add tasks
ralph next  # Start working

# Configure project
echo "build=gj build ms" > .ralph/config
cat >> .ralph/config << 'EOF'
[reminders]
âš ï¸ Use gj tools, not xcodebuild
ðŸ“… Today: January 2026, Xcode 26
EOF
```

## Metrics

- **Lines of code:** ~700 (bash)
- **Commands:** 9
- **Commits:** 15
- **Time to MVP:** ~2 hours
- **First real use:** groovetech-media-server (67 tasks completed)

## Remaining / Future Ideas

- [ ] `ralph switch` - Switch between plans easily
- [ ] `ralph list` - List all plans with status
- [ ] Beads integration (link tasks to issues)
- [ ] Multiple agent support (not just Pi)
- [ ] Web dashboard for progress visualization

## Resume Prompt

---
Continue developing: ralph-loop CLI tool

Context:
- MVP complete and battle-tested on real project (67 tasks)
- Installed at /usr/local/bin/ralph
- All features working including YOLO mode

Current state:
- Git clean, all pushed
- Used successfully on groovetech-media-server

Enhancement ideas:
1. Add `ralph switch` for multi-plan projects
2. Add `ralph list` to see all plans
3. Consider Beads integration for issue linking
---
